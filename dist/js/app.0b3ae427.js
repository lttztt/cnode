(function(t){function a(a){for(var s,r,o=a[0],c=a[1],l=a[2],p=0,f=[];p<o.length;p++)r=o[p],n[r]&&f.push(n[r][0]),n[r]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);u&&u(a);while(f.length)f.shift()();return i.push.apply(i,l||[]),e()}function e(){for(var t,a=0;a<i.length;a++){for(var e=i[a],s=!0,o=1;o<e.length;o++){var c=e[o];0!==n[c]&&(s=!1)}s&&(i.splice(a--,1),t=r(r.s=e[0]))}return t}var s={},n={app:0},i=[];function r(a){if(s[a])return s[a].exports;var e=s[a]={i:a,l:!1,exports:{}};return t[a].call(e.exports,e,e.exports,r),e.l=!0,e.exports}r.m=t,r.c=s,r.d=function(t,a,e){r.o(t,a)||Object.defineProperty(t,a,{enumerable:!0,get:e})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,a){if(1&a&&(t=r(t)),8&a)return t;if(4&a&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(r.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&a&&"string"!=typeof t)for(var s in t)r.d(e,s,function(a){return t[a]}.bind(null,s));return e},r.n=function(t){var a=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(a,"a",a),a},r.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},r.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=a,o=o.slice();for(var l=0;l<o.length;l++)a(o[l]);var u=c;i.push([0,"chunk-vendors"]),e()})({0:function(t,a,e){t.exports=e("56d7")},"06c1":function(t,a,e){},"097d0":function(t,a,e){"use strict";var s=e("c179"),n=e.n(s);n.a},"0cfb":function(t,a,e){},"14de":function(t,a,e){"use strict";var s=e("d835"),n=e.n(s);n.a},"150b":function(t,a,e){},"20a0":function(t,a,e){"use strict";var s=e("06c1"),n=e.n(s);n.a},"26f9":function(t,a,e){"use strict";var s=e("db5e"),n=e.n(s);n.a},"56d7":function(t,a,e){"use strict";e.r(a);e("cadf"),e("551c"),e("f751"),e("097d");var s=e("2b0e"),n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:"app"}},[e("Header"),e("div",{staticClass:"main"},[e("router-view",{attrs:{name:"sideBar"}}),e("router-view",{attrs:{name:"main"}})],1)],1)},i=[],r=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"header"},[s("router-link",{staticClass:"logo",attrs:{to:"/"}},[s("img",{attrs:{src:e("9b19"),alt:"cnode"}})]),t._m(0)],1)},o=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ul",[e("li",[e("a",{attrs:{href:"#"}},[t._v("首页")])]),e("li",[e("a",{attrs:{href:"#"}},[t._v("新手入门")])]),e("li",[e("a",{attrs:{href:"#"}},[t._v("API")])]),e("li",[e("a",{attrs:{href:"#"}},[t._v("关于")])]),e("li",[e("a",{attrs:{href:"#"}},[t._v("注册")])]),e("li",[e("a",{attrs:{href:"#"}},[t._v("登录")])])])}],c={name:"Header"},l=c,u=(e("097d0"),e("2877")),p=Object(u["a"])(l,r,o,!1,null,"4347a2eb",null),f=p.exports,h={name:"App",components:{Header:f}},d=h,v=(e("cf25"),Object(u["a"])(d,n,i,!1,null,null,null)),m=v.exports,_=e("8c4f"),g=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"post"},[t.loadingShow?s("div",{staticClass:"loading"},[s("img",{attrs:{src:e("cf1c")}})]):s("div",{staticClass:"postlist"},[t._m(0),s("ul",t._l(t.postList,function(a){return s("li",[s("router-link",{attrs:{to:{name:"userInfo",params:{name:a.author.loginname}}}},[s("img",{attrs:{src:a.author.avatar_url,title:a.author.loginname}})]),s("span",{staticClass:"count-wrap"},[s("span",{staticClass:"reply-count"},[t._v(t._s(a.reply_count))]),t._v("/"+t._s(a.visit_count)+"\n        ")]),s("span",{class:["topic-tab",{"top-tab":a.top}]},[t._v("\n          "+t._s(t._f("formatWord")(a))+"\n        ")]),s("router-link",{staticClass:"post-title",attrs:{to:{name:"article",params:{id:a.id,name:a.author.loginname}}}},[t._v(t._s(a.title))]),s("span",{staticClass:"last-active-time"},[t._v(t._s(t._f("formatTime")(a.last_reply_at)))])],1)}),0)]),s("pagination",{on:{listenPage:t.getPage}})],1)},b=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"list-nav-bar"},[e("ul",[e("li",{staticClass:"active"},[e("a",{attrs:{href:"#"}},[t._v("全部")])]),e("li",[e("a",{attrs:{href:"#"}},[t._v("精华")])]),e("li",[e("a",{attrs:{href:"#"}},[t._v("分享")])]),e("li",[e("a",{attrs:{href:"#"}},[t._v("问答")])]),e("li",[e("a",{attrs:{href:"#"}},[t._v("招聘")])]),e("li",[e("a",{attrs:{href:"#"}},[t._v("客户端测试")])])])])}],C=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"pagination"},[e("button",{on:{click:t.homePage}},[t._v("首页")]),e("button",{on:{click:t.prevPage}},[t._v("上一页")]),t.jduge?e("button",{staticClass:"pageBtn"},[t._v("...")]):t._e(),t._l(t.buttons,function(a){return e("button",{class:["pageBtn",{currentPage:a===t.currentPage}],on:{click:function(e){return t.changePage(a)}}},[t._v(t._s(a)+"\n  ")])}),e("button",{on:{click:t.nextPage}},[t._v("下一页")])],2)},P=[],y={name:"pagination",data:function(){return{buttons:[1,2,3,4,5,"..."],currentPage:1,jduge:!1}},methods:{homePage:function(){this.currentPage=1,this.buttons=[1,2,3,4,5,"..."],this.jduge=!1,this.emitEvent()},nextPage:function(){this.currentPage===this.buttons[3]&&(this.buttons.shift(),this.buttons.splice(4,0,this.buttons[3]+1)),this.currentPage+=1,this.emitEvent()},prevPage:function(){1!==this.currentPage&&(this.currentPage===this.buttons[1]&&2!==this.currentPage&&(this.buttons.unshift(this.buttons[0]-1),this.buttons.splice(5,1)),this.currentPage-=1,this.emitEvent())},emitEvent:function(){this.$emit("listenPage",this.currentPage)},changePage:function(t){"..."!==t&&(this.jduge=t>4,this.currentPage=t,t===this.buttons[4]?(this.buttons.shift(),this.buttons.splice(4,0,this.buttons[3]+1)):t===this.buttons[0]&&1!==t&&(this.buttons.unshift(this.buttons[0]-1),this.buttons.splice(5,1)),this.emitEvent())}}},w=y,j=(e("9c4b"),Object(u["a"])(w,C,P,!1,null,"d9e070c0",null)),x=j.exports,I={name:"PostList",components:{pagination:x},data:function(){return{loadingShow:!1,postList:[],postPage:1}},beforeMount:function(){this.loadingShow=!0,this.getPost()},methods:{getPost:function(){var t=this;this.$axios.get("https://cnodejs.org/api/v1/topics",{params:{limit:20,page:this.postPage}}).then(function(a){var e=a.data;t.loadingShow=!1,t.postList=e.data})},getPage:function(t){this.postPage=t,this.getPost()}}},S=I,k=(e("14de"),Object(u["a"])(S,g,b,!1,null,"13d4eec8",null)),$=k.exports,O=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"article"},[t.loadingShow?s("div",{staticClass:"loading"},[s("img",{attrs:{src:e("cf1c")}})]):s("div",{staticClass:"article-content"},[s("div",{staticClass:"panel"},[s("div",{staticClass:"article-header"},[s("h3",{staticClass:"topic-full-title"},[t._v(t._s(t.post.title))]),s("p",{staticClass:"topic-tags"},[s("span",[t._v(" 发布于 "+t._s(t._f("formatTime")(t.post.last_reply_at)))]),s("span",[t._v(" 作者 "+t._s(t.post.author.loginname))]),s("span",[t._v(" "+t._s(t.post.visit_count)+"次浏览")]),s("span",[t._v(" 来自 "+t._s(t._f("formatWord")(t.post)))])])]),s("div",{staticClass:"article-content",domProps:{innerHTML:t._s(t.post.content)}})]),t.post.replies.length>0?s("div",{staticClass:"panel reply-panel"},[s("div",{staticClass:"reply-header"},[t._v(t._s(t.post.replies.length)+" 回复")]),t._l(t.post.replies,function(a,e){return s("div",{staticClass:"reply-area"},[s("router-link",{staticClass:"reply-avatar",attrs:{to:{name:"userInfo",params:{name:a.author.loginname}}}},[s("img",{attrs:{src:a.author.avatar_url}})]),s("div",{staticClass:"reply-info"},[s("div",{staticClass:"info-title"},[t._v(t._s(a.author.loginname)+" "),s("span",{staticClass:"reply-msg"},[s("span",[t._v(t._s(e+1)+"楼")]),t._v("*"),s("span",[t._v(t._s(t._f("formatTime")(a.create_at)))])]),a.ups.length>0?s("span",{staticClass:"like"},[t._v(t._s(a.ups.length)+"个赞")]):t._e()]),s("div",{staticClass:"reply-main",domProps:{innerHTML:t._s(a.content)}})])],1)})],2):t._e()])])},E=[],T={name:"Article",data:function(){return{loadingShow:!1,post:{}}},watch:{$route:function(t,a){this.getArticleData()}},beforeMount:function(){this.loadingShow=!0,this.getArticleData()},methods:{getArticleData:function(){var t=this;this.$axios.get("https://cnodejs.org/api/v1/topic/".concat(this.$route.params.id)).then(function(a){var e=a.data;t.post=e.data,t.loadingShow=!1})}}},M=T,L=(e("20a0"),Object(u["a"])(M,O,E,!1,null,null,null)),D=L.exports,A=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"user-info"},[t.loadingShow?s("div",{staticClass:"loading"},[s("img",{attrs:{src:e("cf1c")}})]):s("div",{staticClass:"content"},[s("section",{staticClass:"panel"},[s("div",{staticClass:"panel-header"},[s("span",[s("router-link",{attrs:{to:"/"}},[t._v("主页")]),s("span",{staticClass:"divider"},[t._v("/")])],1)]),s("div",{staticClass:"panel-content"},[s("div",{staticClass:"img-name"},[s("img",{attrs:{src:t.user.avatar_url,title:t.user.loginname}}),s("span",{domProps:{textContent:t._s(t.user.loginname)}})]),s("p",{staticClass:"score"},[t._v(t._s(t.user.score)+" 积分")]),s("p",{staticClass:"create-time"},[t._v("注册时间 "+t._s(t._f("formatTime")(t.user.create_at)))])])]),s("section",{staticClass:"panel"},[s("div",{staticClass:"panel-header"},[t._v("\n        最近创建的话题\n      ")]),s("div",{staticClass:"panel-content postList"},[s("ul",t._l(t.user.recent_topics,function(a){return s("li",[s("router-link",{attrs:{to:{name:"userInfo",params:{name:a.author.loginname}}}},[s("img",{attrs:{src:a.author.avatar_url,title:a.author.loginname}})]),s("router-link",{staticClass:"post-title",attrs:{to:{name:"article",params:{id:a.id}}}},[t._v(t._s(a.title))]),s("span",{staticClass:"last-active-time"},[t._v(t._s(t._f("formatTime")(a.last_reply_at)))])],1)}),0)])]),s("section",{staticClass:"panel"},[s("div",{staticClass:"panel-header"},[t._v("\n        最近参与的话题\n      ")]),s("div",{staticClass:"panel-content postList"},[s("ul",t._l(t.user.recent_replies,function(a){return s("li",[s("router-link",{attrs:{to:{name:"userInfo",params:{name:a.author.loginname}}}},[s("img",{attrs:{src:a.author.avatar_url,title:a.author.loginname}})]),s("router-link",{staticClass:"post-title",attrs:{to:{name:"article",params:{id:a.id}}}},[t._v(t._s(a.title))]),s("span",{staticClass:"last-active-time"},[t._v(t._s(t._f("formatTime")(a.last_reply_at)))])],1)}),0)])])])])},B=[],H=(e("7f7f"),{name:"UserInfo",data:function(){return{loadingShow:!0,user:null}},beforeMount:function(){var t=this;this.getUser().then(function(a){var e=a.data;t.user=e.data,t.loadingShow=!1,console.log(t.user)})},methods:{getUser:function(){return this.$axios.get("https://cnodejs.org/api/v1/user/".concat(this.$route.params.name))}}}),U=H,W=(e("b32b"),Object(u["a"])(U,A,B,!1,null,"3983c317",null)),J=W.exports,q=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"autherinfo"},[t.loadingShow?e("div",{staticClass:"loading"}):e("div",{staticClass:"content"},[e("div",{staticClass:"authersummay"},[e("div",{staticClass:"topbar"},[t._v("作者")]),e("router-link",{attrs:{to:{name:"userInfo",params:{name:t.userInfo.loginname}}}},[e("img",{attrs:{src:t.userInfo.avatar_url,alt:""}})])],1),e("div",{staticClass:"recent_topics"},[e("div",{staticClass:"topbar"},[t._v("作者最近主题")]),e("ul",t._l(t.topcilimitby5,function(a){return e("li",[e("router-link",{attrs:{to:{name:"article",params:{id:a.id,name:a.author.loginname}}}},[t._v("\n            "+t._s(a.title)+"\n          ")])],1)}),0)]),e("div",{staticClass:"recent_replies"},[e("div",{staticClass:"topbar"},[t._v("作者最近回复")]),e("ul",t._l(t.replylimitby5,function(a){return e("li",[e("router-link",{attrs:{to:{name:"article",params:{id:a.id,name:a.author.loginname}}}},[t._v("\n            "+t._s(a.title)+"\n          ")])],1)}),0)])])])},z=[],F={name:"SideBar",data:function(){return{loadingShow:!1,userInfo:null}},methods:{getData:function(){var t=this;this.$axios.get("https://cnodejs.org/api/v1/user/".concat(this.$route.params.name)).then(function(a){t.loadingShow=!1,t.userInfo=a.data.data}).catch(function(t){console.log(t)})}},computed:{topcilimitby5:function(){if(this.userInfo.recent_topics)return this.userInfo.recent_topics.slice(0,5)},replylimitby5:function(){if(this.userInfo.recent_replies)return this.userInfo.recent_replies.slice(0,5)}},beforeMount:function(){this.loadingShow=!0,this.getData()}},G=F,K=(e("26f9"),Object(u["a"])(G,q,z,!1,null,"5d66640b",null)),N=K.exports;s["a"].use(_["a"]);var Q=new _["a"]({routes:[{path:"/",name:"home",components:{main:$}},{path:"/topic/:id&author=:name",name:"article",components:{main:D,sideBar:N}},{path:"/userInfo/:name",name:"userInfo",components:{main:J}}]}),R=e("2f62");s["a"].use(R["a"]);var V=new R["a"].Store({state:{},mutations:{},actions:{}}),X=e("bc3a"),Y=e.n(X);e("b059"),e("150b");s["a"].prototype.$axios=Y.a,s["a"].config.productionTip=!1,s["a"].filter("formatWord",function(t){return!0===t.top?"置顶":!0===t.good?"精华":"ask"===t.tab?"问答":"share"===t.tab?"分享":"招聘"}),s["a"].filter("formatTime",function(t){if(!t)return"";var a=new Date,e=new Date(t),s=+a.getTime()-e.getTime(),n=parseInt(s/1e3,10);return n<0?"":n<30?"刚刚":n<60?n+"秒前":n<3600?parseInt(n/60,10)+"分钟前":n<86400?parseInt(n/3600,10)+"小时前":n<2592e3?parseInt(n/86400,10)+"天前":n<31104e3?parseInt(n/2592e3,10)+"月前":parseInt(n/31536e3,10)+"年前"}),new s["a"]({router:Q,store:V,render:function(t){return t(m)}}).$mount("#app")},"6a5f":function(t,a,e){},"9b19":function(t,a,e){t.exports=e.p+"img/logo.86f6a7c2.svg"},"9c4b":function(t,a,e){"use strict";var s=e("6a5f"),n=e.n(s);n.a},b059:function(t,a,e){},b32b:function(t,a,e){"use strict";var s=e("dd62"),n=e.n(s);n.a},c179:function(t,a,e){},cf1c:function(t,a,e){t.exports=e.p+"img/loading.078fcd09.gif"},cf25:function(t,a,e){"use strict";var s=e("0cfb"),n=e.n(s);n.a},d835:function(t,a,e){},db5e:function(t,a,e){},dd62:function(t,a,e){}});